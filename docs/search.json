[{"path":"/articles/Introduction to regtools.html","id":"package-datasets","dir":"Articles","previous_headings":"","what":"Package datasets","title":"Introduction to regtools","text":"exemplify main functions package, included couple illustrative simulated datasets. datasets also used examples specified functions’ documentation. Note: included datasets large size parallel size normally encounter working real microdata. dataset diag_df tibble simulated individual-level diagnostic data. documented ?diag_df dataset var_df tibble simulated individual-level time-varying data. documented ?var_df dataset invar_df tibble simulated individual-level time-invariant data. documented ?invar_df datasets created using simulate_dataset() function included package. exact code used create can found folder /data-raw package’s source code. Besides main diagnostic sociodemographic datasets included package, also two datasets included facilitate running examples: kommuner_2016: data.frame including municipality codes Norway valid 2016. linked_df: tibble including linked diagnostic, time-invariant time-varying data.","code":"str(diag_df) #> tibble [30,024 × 3] (S3: tbl_df/tbl/data.frame) #>  $ id       : chr [1:30024] \"P000000037\" \"P000000052\" \"P000000059\" \"P000000111\" ... #>  $ code     : chr [1:30024] \"F773\" \"F1011\" \"F898\" \"F1010\" ... #>  $ diag_year: int [1:30024] 2012 2017 2014 2015 2018 2020 2012 2017 2020 2015 ... str(var_df) #> tibble [270,216 × 3] (S3: tbl_df/tbl/data.frame) #>  $ id          : chr [1:270216] \"P000000037\" \"P000000037\" \"P000000037\" \"P000000037\" ... #>  $ year_varying: int [1:270216] 2012 2013 2014 2015 2016 2017 2018 2019 2020 2012 ... #>  $ varying_code: chr [1:270216] \"1146\" \"1146\" \"1146\" \"1756\" ... str(invar_df) #> tibble [30,024 × 4] (S3: tbl_df/tbl/data.frame) #>  $ id               : chr [1:30024] \"P000000037\" \"P000000052\" \"P000000059\" \"P000000111\" ... #>  $ sex              : Factor w/ 2 levels \"0\",\"1\": 1 2 1 2 1 1 2 1 1 1 ... #>  $ y_birth          : int [1:30024] 2001 2009 2004 2006 2003 2000 2003 2008 2004 2000 ... #>  $ innvandringsgrunn: chr [1:30024] \"FAMM\" \"UTD\" \"FAMM\" \"FAMM\" ..."},{"path":"/articles/Introduction to regtools.html","id":"general-features","dir":"Articles","previous_headings":"","what":"General features","title":"Introduction to regtools","text":"majority functions create log files encourage reproducibility consistency across research projects. Additionally, function provides clear console feedback executes important operations (filter, select, join, etc) next examples, can initialize temporary log file:","code":"log_file <- tempfile() cat(\"Vignette log file\", file = log_file)"},{"path":"/articles/Introduction to regtools.html","id":"data-reading-and-validation","dir":"Articles","previous_headings":"","what":"Data reading and validation","title":"Introduction to regtools","text":"Generally, researchers working individual level registry data (Norway) find datasets divided (delivered) three different categories: Diagnostic data: normally containing unique personal identifier (id), date diagnostic even, diagnosis code (ICD-10 ICP-2). instance, datasets NPR (Norwegian Patient Registry) KUHR. Time-invariandata: sociodemographic data date birth, immigration background, etc. Time-varying data: sociodemographic data place residence marital status. type information usually updated quarterly yearly administrative registries. Assuming researcher want compute sex-stratified prevalence rates certain diagnosis, least need diagnostic dataset time-invariant dataset (including sex). functions read_demo_data() read_diag_data() check dataset’s minimum requirements, well giving quick summary dataset’s structure. need specify column names corresponding id date variables (see function documentation info). Note: read functions check minimum requirements, real datasets can contain additional variables/columns. example, NPR sometimes includes sex age information individual diagnostic dataset.","code":"diag_csv <- system.file(\"extdata\", \"diag_data.csv\", package = \"regtools\")  diag_data_validated <- regtools::read_diag_data(diag_csv,                                                  id_col = \"id\",                                                  date_col = \"diag_year\",                                                  log_path = log_file) #> Reading C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/diag_data.csv file... #> ✔ Succesfully read file: C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/diag_data.csv #> Checking column requirements: #> ✔ ID column #> ✔ Code column #> ✔ Date column #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Diagnostic dataset succesfully read and columns validated #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #> ℹ Number of rows: 30024. Number of columns: 3. #>  #>  #> 'data.frame':    30024 obs. of  3 variables: #>  $ id       : chr  \"P000000037\" \"P000000052\" \"P000000059\" \"P000000111\" ... #>  $ code     : chr  \"F773\" \"F1011\" \"F898\" \"F1010\" ... #>  $ diag_year: int  2012 2017 2014 2015 2018 2020 2012 2017 2020 2015 ... demo_csv <- system.file(\"extdata\", \"invar_data.csv\", package = \"regtools\")  demo_data_validated <- read_demo_data(demo_csv,                                        data_type = \"t_invariant\",                                       id_col = \"id\",                                        log_path = log_file) #> Reading C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/invar_data.csv file... #> ✔ Succesfully read file: C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/invar_data.csv #> Checking column requirements: #> ✔ ID column #> ✔ Date column #> Data type: time invariant. Checking requirements... #> ✔ No duplicate IDs #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Demographic dataset succesfully read and columns validated #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #> ℹ Number of rows: 30024. Number of columns: 4. #> ℹ Unique IDs in dataset: 30024. #>  #> 'data.frame':    30024 obs. of  4 variables: #>  $ id               : chr  \"P000000037\" \"P000000052\" \"P000000059\" \"P000000111\" ... #>  $ sex              : int  0 1 0 1 0 0 1 0 0 0 ... #>  $ y_birth          : int  2001 2009 2004 2006 2003 2000 2003 2008 2004 2000 ... #>  $ innvandringsgrunn: chr  \"FAMM\" \"UTD\" \"FAMM\" \"FAMM\" ..."},{"path":"/articles/Introduction to regtools.html","id":"data-filtering","dir":"Articles","previous_headings":"","what":"Data filtering","title":"Introduction to regtools","text":"cases, real microdata working large. Therefore, regtools encourages filter first approach. following functions useful keep relevant cases analysis.","code":""},{"path":"/articles/Introduction to regtools.html","id":"filter-diagnostic-data","dir":"Articles","previous_headings":"Data filtering","what":"Filter diagnostic data","title":"Introduction to regtools","text":"filter diagnostic dataset, use filter_diag(). function validates ICD-10 codes indeed valid. valid, filters given diagnostic dataset keep observations relevant ICD-10 codes. example, keep observations either ICD-10 code F840 F841: Alternatively, also possible filter pattern/family codes. example, keep observations codes starting F45 F84: refine filter diagnostic dataset, curate_diag() provides additional options. example, can keep individuals (identified unique person identifier) least minimum number diagnostic events keep first-time diagnosis (date variable available). Look specific function’s documentation info.","code":"filtered_diag_codes <-  filter_diag(data = diag_df,                                     codes = c(\"F840\", \"F841\"),                                     id_col = \"id\",                                     code_col = \"code\",                                     log_path = log_file                                     ) #> Checking that code exists in ICD-10 code list... #> ✔ Selected ICD-10 codes are valid: F840, F841 #> Filtering data by selected ICD-10 codes... #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Diagnostic dataset succesfully filtered #>  #> ℹ Filtered 29965 rows (99.8% removed) #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering: #> ℹ Remaining number of rows: 59 #> ℹ Remaining number of columns: 3 #> ℹ Unique IDs in dataset: 59 #> ℹ ICD-10 codes in dataset: F841 and F840 #>  #> tibble [59 × 3] (S3: tbl_df/tbl/data.frame) #>  $ id       : chr [1:59] \"P000010070\" \"P000010584\" \"P000044255\" \"P000139916\" ... #>  $ code     : chr [1:59] \"F840\" \"F840\" \"F840\" \"F840\" ... #>  $ diag_year: int [1:59] 2019 2016 2019 2015 2013 2015 2015 2015 2019 2016 ... filtered_diag_pattern <-  filter_diag(data = diag_df,                                       pattern_codes = c(\"F45\", \"F84\"),                                       id_col = \"id\",                                       code_col = \"code\",                                       log_path = log_file                                       ) #> Checking that code exists in ICD-10 code list... #> ✔ Selected ICD-10 codes are valid: F45, F84 #> Filtering data by selected ICD-10 codes... #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Diagnostic dataset succesfully filtered #>  #> ℹ Filtered 29333 rows (97.7% removed) #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering: #> ℹ Remaining number of rows: 691 #> ℹ Remaining number of columns: 3 #> ℹ Unique IDs in dataset: 691 #> ℹ ICD-10 codes in dataset: F848, F845, F4520, F451, F843, F454, F458, F455, F45, F456, F4529, F844, F450, F84, F4542, F842, F847, F453, …, F452, and F846 #>  #> tibble [691 × 3] (S3: tbl_df/tbl/data.frame) #>  $ id       : chr [1:691] \"P000000704\" \"P000000886\" \"P000001615\" \"P000004197\" ... #>  $ code     : chr [1:691] \"F4522\" \"F450\" \"F845\" \"F4520\" ... #>  $ diag_year: int [1:691] 2016 2017 2020 2019 2016 2019 2020 2013 2019 2016 ..."},{"path":"/articles/Introduction to regtools.html","id":"filter-time-varying-and-time-invariant-data","dir":"Articles","previous_headings":"Data filtering","what":"Filter time-varying and time-invariant data","title":"Introduction to regtools","text":"filter time-varying time-invariant datasets, use filter_demo(). function filters given dataset keep observations relevant chracteristics. example, keep observations individuals resided municiplality “1146” years 2012-2015: case time-invariant data, keep individuals year birth 2006-2008 reason immigration “FAMM” “UTD”:","code":"filtered_var <- filter_demo(data = var_df,                             data_type = \"t_variant\",                             filter_param = list(\"year_varying\" = c(2012:2015), \"varying_code\" = c(\"1146\")),                             log_path = log_file) #> Filtering time-variant dataset... #> ✔ Filtered time-variant by 'year_varying and varying_code' column(s) #> ℹ Filtered 269648 rows (99.8% removed) #> ! The dataset has no NAs or they are coded in a different format. #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Demographic dataset succesfully filtered #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering: #> ℹ Remaining number of rows: 568 #> ℹ Remaining number of columns: 3 #>  #> tibble [568 × 3] (S3: tbl_df/tbl/data.frame) #>  $ id          : chr [1:568] \"P000000037\" \"P000000037\" \"P000000037\" \"P000002133\" ... #>  $ year_varying: int [1:568] 2012 2013 2014 2012 2013 2014 2015 2012 2013 2014 ... #>  $ varying_code: chr [1:568] \"1146\" \"1146\" \"1146\" \"1146\" ... filtered_invar <- filter_demo(data = invar_df, data_type = \"t_invariant\",                               filter_param = list(\"y_birth\" = c(2010:2018), \"innvandringsgrunn\" = c(\"ARB\",\"NRD\", \"UKJ\")),                               rm_na = FALSE,                               log_path = log_file) #> Filtering time-invariant dataset... #> ✔ Filtered time-invariant dataset by 'y_birth and innvandringsgrunn' column(s) #> ℹ Filtered 29333 rows (97.7% removed) #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Demographic dataset succesfully filtered #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering: #> ℹ Remaining number of rows: 691 #> ℹ Remaining number of columns: 4 #>  #> tibble [691 × 4] (S3: tbl_df/tbl/data.frame) #>  $ id               : chr [1:691] \"P000000704\" \"P000000886\" \"P000001615\" \"P000004197\" ... #>  $ sex              : Factor w/ 2 levels \"0\",\"1\": 2 1 1 2 1 2 2 2 2 2 ... #>  $ y_birth          : int [1:691] 2016 2016 2011 2010 2014 2015 2012 2010 2016 2011 ... #>  $ innvandringsgrunn: chr [1:691] \"ARB\" \"UKJ\" \"ARB\" \"UKJ\" ..."},{"path":"/articles/Introduction to regtools.html","id":"linkage","dir":"Articles","previous_headings":"","what":"Linkage","title":"Introduction to regtools","text":"filtering datasets, can link using individuals unique personal identifier. Depending type analysis relevant variables, might necessary link datasets. resulting dataset link_diag_demo()minimal tidy dataset can use run analytical functions.","code":"linked_diag_inv <- link_diag_demo(data_diag = filtered_diag_pattern,                                   data_demo_inv = filtered_invar,                                   id_col = \"id\",                                   log_path = log_file) #> Joining diagnostic data with time-invariant demographic data... #> ✔ Datasets succesfully linked: filtered_diag_pattern, filtered_invar #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #> ℹ After joining added 3 columns to 'filtered_diag_pattern': sex, y_birth, and innvandringsgrunn #> ℹ Rows in 'filtered_diag_pattern': 691 #> ℹ Rows in 'filtered_invar': 691 #> ✔ Total matched rows: 691"},{"path":[]},{"path":[]},{"path":[]},{"path":"/articles/Introduction to regtools.html","id":"simulate-dataset","dir":"Articles","previous_headings":"Other useful functions","what":"Simulate dataset","title":"Introduction to regtools","text":"Simulates dataset. cases uses API, able run inside TSD","code":""},{"path":"/articles/Introduction to regtools.html","id":"harmonize-municipality-codes","dir":"Articles","previous_headings":"Other useful functions","what":"Harmonize municipality codes","title":"Introduction to regtools","text":"Harmonizes codes. challenges working registries.","code":""},{"path":"/articles/Introduction to regtools.html","id":"get-population-ssb","dir":"Articles","previous_headings":"Other useful functions","what":"Get population SSB","title":"Introduction to regtools","text":"API SSB: able run inside TSD","code":""},{"path":"/articles/regtools_v1.html","id":"package-datasets","dir":"Articles","previous_headings":"","what":"Package datasets","title":"Introduction to regtools","text":"exemplify main functions package, included couple illustrative simulated datasets. datasets also used examples specified functions’ documentation. Note: included datasets large size parallel size normally encounter working real microdata. dataset diag_df tibble simulated individual-level diagnostic data. documented ?diag_df dataset var_df tibble simulated individual-level time-varying data. documented ?var_df dataset invar_df tibble simulated individual-level time-invariant data. documented ?invar_df datasets created using simulate_dataset() function included package. exact code used create can found folder /data-raw package’s source code. Besides main diagnostic sociodemographic datasets included package, also two datasets included facilitate running examples: kommuner_2016: data.frame including municipality codes Norway valid 2016 linked_df: tibble including linked diagnostic, time-invariant time-varying data.","code":"str(diag_df) str(var_df) str(invar_df)"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alejandra Martinez Sanchez. Maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Sanchez (2025). regtools: regtools: Trend/prevalence analysis visualization tool mental health diagnoses Norwegian health registers. R package version 0.1.0, https://amslala.github.io/regtools/, https://github.com/amslala/regtools.","code":"@Manual{,   title = {regtools: regtools: Trend/prevalence analysis and visualization tool for mental health diagnoses in Norwegian health registers},   author = {Alejandra Martinez Sanchez},   year = {2025},   note = {R package version 0.1.0, https://amslala.github.io/regtools/},   url = {https://github.com/amslala/regtools}, }"},{"path":"/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 regtools authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"/reference/calculate_incidence.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate incidence rates — calculate_incidence","title":"Calculate incidence rates — calculate_incidence","text":"calculate_incidence() function calculates incidence rates based given diagnostic demographic information. Incidence represents number new cases given diagnosis exist population interest specified point period time.","code":""},{"path":"/reference/calculate_incidence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate incidence rates — calculate_incidence","text":"","code":"calculate_incidence(   linked_data,   type = c(\"cumulative\", \"rate\"),   id_col = \"id\",   date_col = \"date\",   pop_data = NULL,   pop_col = \"pop_count\",   person_time_data = NULL,   person_time_col = NULL,   time_p = NULL,   grouping_vars = NULL,   only_counts = FALSE,   suppression = TRUE,   suppression_threshold = 5,   CI = TRUE,   CI_level = 0.99,   log_path = NULL )"},{"path":"/reference/calculate_incidence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate incidence rates — calculate_incidence","text":"linked_data data frame containing linked relevant diagnostic demographic information. include first time diagnosis, see 'curate_diag' type Character string. Valid options \"cumulative\" \"rate\". \"cumulative\", \"rate\", id_col character string. Name ID (unique personal identifier) column linked_data. Default \"id\". date_col character string. Name  date column linked_data. Default \"date\". pop_data data frame containing corresponding population risk information. pop_col character string. Name column containing population counts pop_data. person_time_data data frame containing corresponding person-time information. person_time_col character string. Name column containing person-time counts person_time_data. time_p numeric value numeric vector. Time point time period used calculate incidence. time period, specify range. first value vector period's lower bound, second element period's upper bound. Example:  time_p = c(2010,2015) time point, single numeric value. Example: time_p = 2010 grouping_vars Character vector (optional). Grouping variables aggregation diagnostic counts (e.g. sex, education). only_counts Logical. want diagnostic counts? Default FALSE. TRUE, return counts. suppression Logical. Suppress results (counts rates) order maintain statistical confidentiality? Default TRUE. TRUE, applies primary suppression (NA) value threshold defined suppression_threshold suppression_threshold Integer. Threshold used suppression, default set 5 (NPR standard). CI Logical. Want compute binomial confidence intervals? Default TRUE. TRUE, add two new columns upper lower CI bound significance level defined CI_level. Uses Pearson-Klopper method. CI_level numerical value 0 1. Level confidence intervals, default set 0.99 log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory.","code":""},{"path":"/reference/calculate_incidence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate incidence rates — calculate_incidence","text":"Incidence table","code":""},{"path":"/reference/calculate_incidence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate incidence rates — calculate_incidence","text":"","code":"log_file <- tempfile() cat(\"Example log file\", file = log_file)  pop_df <- tibble::tibble(year = \"2012-2013\", population = 4500) linked_df <- linked_df |> dplyr::rename(\"year\"= \"diag_year\")  incidence_df <- calculate_incidence(linked_df,   type = \"cumulative\",   id_col = \"id\",   date_col = \"year\",   pop_data = pop_df,   pop_col = \"population\",   time_p = c(2012,2013),   only_counts = FALSE,   suppression = TRUE,   suppression_threshold = 10,   log_path = log_file) #> ! To correctly calculate incidence rates, the provided dataset should only contain new/first time diagnoses. #> ✔ Suppressed counts using 10 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Cumulative incidence ready"},{"path":"/reference/calculate_prevalence.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate prevalence rates — calculate_prevalence","title":"Calculate prevalence rates — calculate_prevalence","text":"calculate_prevalence() function calculates prevalence rates based given diagnostic demographic information. Prevalence represents number cases given diagnosis exist population interest specified point period time.","code":""},{"path":"/reference/calculate_prevalence.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate prevalence rates — calculate_prevalence","text":"","code":"calculate_prevalence(   linked_data,   id_col = \"id\",   date_col = \"date\",   pop_data = NULL,   pop_col = \"pop_count\",   time_p,   grouping_vars = NULL,   CI = TRUE,   CI_level = 0.99,   only_counts = FALSE,   suppression = TRUE,   suppression_threshold = 5,   log_path = NULL )"},{"path":"/reference/calculate_prevalence.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate prevalence rates — calculate_prevalence","text":"linked_data data frame containing linked relevant diagnostic demographic information. id_col character string. Name ID (unique personal identifier) column linked_data. Default \"id\". date_col character string. Name  date column linked_data. Default \"date\". pop_data data frame containing corresponding population count information. pop_col character string. Name column containing population counts pop_data. time_p numeric value numeric vector. Time point time period used calculate incidence. period prevalence, specify range. first value vector period's lower bound, second element period's upper bound. Example:  time_p = c(2010,2015) point prevalence, single numeric value. Example: time_p = 2010 grouping_vars Character vector (optional). Grouping variables aggregation diagnostic counts (e.g. sex, education). CI Logical. Want compute binomial confidence intervals? Default TRUE. TRUE, add two new columns upper lower CI bound significance level defined CI_level. Uses Pearson-Klopper method. CI_level numerical value 0 1. Level confidence intervals, default set 0.99 only_counts Logical. want diagnostic counts? Default FALSE. TRUE, return counts. suppression Logical. Suppress results (counts rates) order maintain statistical confidentiality? Default TRUE. TRUE, applies primary suppression (NA) value threshold defined suppression_threshold suppression_threshold Integer. Threshold used suppression, default set 5 (NPR standard). log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory.","code":""},{"path":"/reference/calculate_prevalence.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate prevalence rates — calculate_prevalence","text":"Prevalence rate table","code":""},{"path":"/reference/calculate_prevalence.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate prevalence rates — calculate_prevalence","text":"","code":"log_file <- tempfile() cat(\"Example log file\", file = log_file)  pop_df <- tibble::tibble(year = \"2012-2020\", population = 30024) linked_df <- linked_df |> dplyr::rename(\"year\"= \"diag_year\")  prevalence_df <- calculate_prevalence(linked_df,   id_col = \"id\",   date_col = \"year\",   pop_data = pop_df,   pop_col = \"population\",   time_p = c(2012,2020),   CI = TRUE,   CI_level = 0.95,   only_counts = FALSE,   suppression = TRUE,   suppression_threshold = 10,   log_path = log_file) #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 10 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_df #> ℹ Population data: pop_df #> ℹ Grouped by variables:  #> ℹ For time point/period:  2012 and 2020"},{"path":"/reference/calculate_prevalence_series.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate prevalence series rates — calculate_prevalence_series","title":"Calculate prevalence series rates — calculate_prevalence_series","text":"calculate_prevalence_series() function calculates prevalence rates series based given diagnostic demographic information. Use calculate_prevalence() function one time period time point. Prevalence represents number cases given diagnosis exist population interest specified point period time.","code":""},{"path":"/reference/calculate_prevalence_series.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate prevalence series rates — calculate_prevalence_series","text":"","code":"calculate_prevalence_series(   linked_data,   time_points,   id_col = \"id\",   date_col = \"date\",   pop_data,   pop_col = \"pop_count\",   grouping_vars = NULL,   only_counts = FALSE,   suppression = TRUE,   suppression_threshold = 5,   CI = TRUE,   CI_level = 0.99,   log_path = NULL )"},{"path":"/reference/calculate_prevalence_series.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate prevalence series rates — calculate_prevalence_series","text":"linked_data data frame containing linked relevant diagnostic demographic information. time_points list containing either individual time points time period (range). time points, element list individual year. example, time_points = list(2012, 2013, 2014) time periods, element list two years representing range years desired period. example, time_points <- list(c(2012,2014), c(2014,2016), c(2016,2018)) id_col character string. Name ID (unique personal identifier) column linked_data. Default \"id\". date_col character string. Name  date column linked_data. Default \"date\". pop_data data frame containing corresponding population count information. pop_col character string. Name column containing population counts pop_data. grouping_vars Character vector (optional). Grouping variables aggregation diagnostic counts (e.g. sex, education). only_counts Logical. want diagnostic counts? Default FALSE. TRUE, return counts. suppression Logical. Suppress results (counts rates) order maintain statistical confidentiality? Default TRUE. TRUE, applies primary suppression (NA) value threshold defined suppression_threshold suppression_threshold Integer. Threshold used suppression, default set 5 (NPR standard). CI Logical. Want compute binomial confidence intervals? Default TRUE. TRUE, add two new columns upper lower CI bound significance level defined CI_level. Uses Pearson-Klopper method. CI_level numerical value 0 1. Level confidence intervals, default set 0.99 log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory.","code":""},{"path":"/reference/calculate_prevalence_series.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate prevalence series rates — calculate_prevalence_series","text":"Prevalence series specified time points/periods","code":""},{"path":"/reference/calculate_prevalence_series.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate prevalence series rates — calculate_prevalence_series","text":"","code":"log_file <- tempfile() cat(\"Example log file\", file = log_file)  pop_df <- tibble::tibble(year = c(2012:2020), population = floor(runif(9, min=3000, max=4000))) linked_df <- linked_df |> dplyr::rename(\"year\"= \"diag_year\")  prevalence_df <- calculate_prevalence_series(linked_df,   time_points = list(2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020),   id_col = \"id\",   date_col = \"year\",   pop_data = pop_df,   pop_col = \"population\",   only_counts = FALSE,   suppression = TRUE,   suppression_threshold = 1,   CI = TRUE,   CI_level = 0.95,   log_path = log_file) #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2012 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2013 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2014 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2015 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2016 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2017 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2018 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2019 #> Computing prevalence rates/counts... #> ✔ Suppressed counts using 1 threshold #> ℹ Removed 0 cells out of 1 #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\") and c(3080, 3834, 3600, 3157, 3007, 3466, 3497, 3289, 3732) #> ℹ Grouped by variables:  #> ℹ For time point/period:  2020"},{"path":"/reference/curate_diag.html","id":null,"dir":"Reference","previous_headings":"","what":"Curate diagnostic data — curate_diag","title":"Curate diagnostic data — curate_diag","text":"Curate diagnostic data","code":""},{"path":"/reference/curate_diag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Curate diagnostic data — curate_diag","text":"","code":"curate_diag(   data,   min_diag = 1,   first_diag = TRUE,   id_col = \"id\",   code_col = \"icd_code\",   date_col = \"date\",   log_path = NULL )"},{"path":"/reference/curate_diag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Curate diagnostic data — curate_diag","text":"data data frame containing pre-processed validated diagnostic data. min_diag Integer. Number minimum amount diagnostic events. Default 1. first_diag Logical. TRUE, keep information first recorded diagnostic event. Default set TRUE. Default TRUE. id_col character string. Name ID column data, default \"id\" code_col character string. Name column containing ICD-10 codes data, default \"icd_code\" date_col character string. Name column containing diagnostic date data, default \"date\" log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory.","code":""},{"path":"/reference/curate_diag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Curate diagnostic data — curate_diag","text":"Curated diagnostic data: minimum diagnostic events, /first ever diagnosis information","code":""},{"path":"/reference/curate_diag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Curate diagnostic data — curate_diag","text":"","code":"# Keep only curated diagnostic data # for example minimum diagnostic events or first recorded diagnosis  log_file <- tempfile() cat(\"Example log file\", file = log_file)  curated_diag_df <- curate_diag(data = diag_df,                                min_diag = 1,                                first_diag = TRUE,                                id_col = \"id\",                                code_col = \"code\",                                date_col = \"diag_year\",                                log_path = log_file) #> ✔ Filtered observations that do not have at least 1 diagnostic event #> ✔ Summarized first diagnostic event information #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Diagnostic dataset succesfully curated and summarized #>  #> ℹ Filtered 0 rows (0% removed) #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering:  #> ℹ Remaining number of rows: 30024 #> ℹ Remaining number of columns: 4 #> ℹ Unique IDs in dataset: 30024 #> ℹ ICD-10 codes in dataset: F839, F760, F65, F560, F64, F553, F087, F75, F223, F996, F169, F950, F513, F536, F1926, F209, F1220, F792, …, F0150, and F196 #>  #> tibble [30,024 × 4] (S3: tbl_df/tbl/data.frame) #>  $ id               : chr [1:30024] \"P000000037\" \"P000000052\" \"P000000059\" \"P000000111\" ... #>  $ code             : chr [1:30024] \"F773\" \"F1011\" \"F898\" \"F1010\" ... #>  $ y_diagnosis_first: int [1:30024] 2012 2017 2014 2015 2018 2020 2012 2017 2020 2015 ... #>  $ diagnosis_count  : int [1:30024] 1 1 1 1 1 1 1 1 1 1 ..."},{"path":"/reference/diag_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Example diagnostic individual-level data — diag_df","title":"Example diagnostic individual-level data — diag_df","text":"simulated dataset including individual information unique ID, ICD-10 diagnosis date (year).","code":""},{"path":"/reference/diag_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example diagnostic individual-level data — diag_df","text":"","code":"diag_df"},{"path":"/reference/diag_df.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example diagnostic individual-level data — diag_df","text":"diag_df data frame 30,024 rows 3 columns: id Unique personal identifier code ICD-10 codes diag_year Year diagnosis","code":""},{"path":"/reference/diag_df.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example diagnostic individual-level data — diag_df","text":"Code used simulate dataset can found /data-raw directory","code":""},{"path":"/reference/filter_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter demographic data by selected filtering parameters — filter_demo","title":"Filter demographic data by selected filtering parameters — filter_demo","text":"Filter demographic data selected filtering parameters","code":""},{"path":"/reference/filter_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter demographic data by selected filtering parameters — filter_demo","text":"","code":"filter_demo(   data,   data_type = c(\"t_variant\", \"t_invariant\"),   filter_param,   id_col = NULL,   any = FALSE,   rm_na = TRUE,   log_path = NULL )"},{"path":"/reference/filter_demo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter demographic data by selected filtering parameters — filter_demo","text":"data data frame containing pre-processed demographic data. data_type character string. Type demographic data: \"t_variant\" \"t_invariant\" filter_param named list containing filtering parameters. names list column names values vectors values keep. id_col character string. Name ID column data set. Optional, necessary = TRUE Logical. Filtering option, year. Default FALSE rm_na Logical. rows NA non-filtered columns removed? Default FALSE TRUE, removes observations NA non-filtered columns. log_path character string. Path log file append function logs. Default NULL NULL, new directory /log file created current working directory.","code":""},{"path":"/reference/filter_demo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter demographic data by selected filtering parameters — filter_demo","text":"Filtered demographic dataframe containing relevant observations based filtering parameters.","code":""},{"path":"/reference/filter_demo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Filter demographic data by selected filtering parameters — filter_demo","text":"","code":"# Filter varying and unvarying datasets  log_file <- tempfile() cat(\"Example log file\", file = log_file)  filtered_var <- filter_demo(data = var_df, data_type = \"t_variant\", filter_param = list(\"year_varying\" = c(2012:2015), \"varying_code\" = c(\"1146\")), log_path = log_file) #> Filtering time-variant dataset... #> ✔ Filtered time-variant by 'year_varying and varying_code' column(s) #> ℹ Filtered 269648 rows (99.8% removed) #>  #> ! The dataset has no NAs or they are coded in a different format. #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Demographic dataset succesfully filtered #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering:  #> ℹ Remaining number of rows: 568 #> ℹ Remaining number of columns: 3 #>  #> tibble [568 × 3] (S3: tbl_df/tbl/data.frame) #>  $ id          : chr [1:568] \"P000000037\" \"P000000037\" \"P000000037\" \"P000002133\" ... #>  $ year_varying: int [1:568] 2012 2013 2014 2012 2013 2014 2015 2012 2013 2014 ... #>  $ varying_code: chr [1:568] \"1146\" \"1146\" \"1146\" \"1146\" ...   filtered_invar <- filter_demo(data = invar_df, data_type = \"t_invariant\", filter_param = list(\"y_birth\" = c(2006:2008), \"innvandringsgrunn\" = c(\"FAMM\", \"UTD\")), rm_na = FALSE, log_path = log_file) #> Filtering time-invariant dataset... #> ✔ Filtered time-invariant dataset by 'y_birth and innvandringsgrunn' column(s) #> ℹ Filtered 21169 rows (70.5% removed) #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Demographic dataset succesfully filtered #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering:  #> ℹ Remaining number of rows: 8855 #> ℹ Remaining number of columns: 4 #>  #> tibble [8,855 × 4] (S3: tbl_df/tbl/data.frame) #>  $ id               : chr [1:8855] \"P000000111\" \"P000000183\" \"P000000431\" \"P000000882\" ... #>  $ sex              : Factor w/ 2 levels \"0\",\"1\": 2 1 2 2 1 1 1 2 2 2 ... #>  $ y_birth          : int [1:8855] 2006 2008 2006 2008 2008 2007 2007 2007 2006 2007 ... #>  $ innvandringsgrunn: chr [1:8855] \"FAMM\" \"UTD\" \"FAMM\" \"FAMM\" ..."},{"path":"/reference/filter_diag.html","id":null,"dir":"Reference","previous_headings":"","what":"Validate and filter diagnostic data by selected ICD-10 codes — filter_diag","title":"Validate and filter diagnostic data by selected ICD-10 codes — filter_diag","text":"Validate filter diagnostic data selected ICD-10 codes","code":""},{"path":"/reference/filter_diag.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validate and filter diagnostic data by selected ICD-10 codes — filter_diag","text":"","code":"filter_diag(   data,   codes = NULL,   pattern_codes = NULL,   id_col = \"id\",   code_col = \"icd_code\",   log_path = NULL )"},{"path":"/reference/filter_diag.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validate and filter diagnostic data by selected ICD-10 codes — filter_diag","text":"data data frame containing pre-processed diagnostic data. codes character vector. ICD-10 codes validate filter data pattern_codes character vector. Pattern ICD-10 codes validate filter data. example, F84 use codes starting F84 (F840, F841, F842, F844, etc.) id_col character string. Name ID column data, default \"id\" code_col character string. Name column containing ICD-10 codes data, default \"icd_code\" log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory.","code":""},{"path":"/reference/filter_diag.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Validate and filter diagnostic data by selected ICD-10 codes — filter_diag","text":"Filtered validated diagnostic data frame containing relevant observations based diagnostic codes interest.","code":""},{"path":"/reference/filter_diag.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validate and filter diagnostic data by selected ICD-10 codes — filter_diag","text":"","code":"# Validate that F45 and F84 are real codes/family of codes in ICD-10. # Keep only rows with codes containing F45 and F84.  log_file <- tempfile() cat(\"Example log file\", file = log_file)  filtered_diag_df <-  filter_diag(data = diag_df,                                  pattern_codes = c(\"F45\", \"F84\"),                                  id_col = \"id\",                                  code_col = \"code\",                                  log_path = log_file                                  ) #> Checking that code exists in ICD-10 code list... #> ✔ Selected ICD-10 codes are valid: F45, F84 #>  #> Filtering data by selected ICD-10 codes... #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Diagnostic dataset succesfully filtered #>  #> ℹ Filtered 29333 rows (97.7% removed) #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ── After filtering:  #> ℹ Remaining number of rows: 691 #> ℹ Remaining number of columns: 3 #> ℹ Unique IDs in dataset: 691 #> ℹ ICD-10 codes in dataset: F848, F845, F4520, F451, F843, F454, F458, F455, F45, F456, F4529, F844, F450, F84, F4542, F842, F847, F453, …, F452, and F846 #>  #> tibble [691 × 3] (S3: tbl_df/tbl/data.frame) #>  $ id       : chr [1:691] \"P000000704\" \"P000000886\" \"P000001615\" \"P000004197\" ... #>  $ code     : chr [1:691] \"F4522\" \"F450\" \"F845\" \"F4520\" ... #>  $ diag_year: int [1:691] 2016 2017 2020 2019 2016 2019 2020 2013 2019 2016 ..."},{"path":"/reference/get_population_ssb.html","id":null,"dir":"Reference","previous_headings":"","what":"Get yearly population data from SSB, by region, sex and age. — get_population_ssb","title":"Get yearly population data from SSB, by region, sex and age. — get_population_ssb","text":"Get yearly population data SSB, region, sex age.","code":""},{"path":"/reference/get_population_ssb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get yearly population data from SSB, by region, sex and age. — get_population_ssb","text":"","code":"get_population_ssb(   url_api = \"https://data.ssb.no/api/v0/en/table/07459/\",   regions = c(\"norway\", \"fylker\", \"kommuner\"),   years,   ages,   aggregate_age = TRUE,   by_sex = TRUE,   save_xslx = FALSE )"},{"path":"/reference/get_population_ssb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get yearly population data from SSB, by region, sex and age. — get_population_ssb","text":"url_api Character string. URL used SSB API call. modify. regions Character string. Supported regions: \"norway\" country-wise population counts \"fylker\" county population counts \"kommuner\" municipality population counts (excluding Svalbard Jan Mayen). Due region reforms Norway, results shown using SSB's harmonized county codes (2024) years Numerical vector. Year(s) population counts. ages Numerical vector. Age(s) whole years. aggregate_age Logical. Default TRUE. TRUE one age given, include new row aggregated population age group. by_sex Logical. Default TRUE. TRUE population counts disaggregated sex (male, female) save_xslx Logical. Want save results xslx? Default FALSE. TRUE results saved xslx current working directory.","code":""},{"path":"/reference/get_population_ssb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get yearly population data from SSB, by region, sex and age. — get_population_ssb","text":"Data frame population data SSB","code":""},{"path":"/reference/get_population_ssb.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get yearly population data from SSB, by region, sex and age. — get_population_ssb","text":"","code":"# Population of Norway in 2020 to 2022, for ages 10 to 15, # include total of that age group (10-15) for each year. population_norway <- get_population_ssb(regions = \"norway\",                                         years = c(2020:2022),                                         ages = c(10:15),                                         aggregate_age = TRUE,                                         by_sex = TRUE,                                         save_xslx = FALSE) #> ℹ Retrieving population of norway for the years: 2020,2021,2022, and ages: 10,11,12,13,14,15 #> ℹ Aggregating ages... #> ✔ Population dataset ready!"},{"path":"/reference/harmonize_municipality_codes.html","id":null,"dir":"Reference","previous_headings":"","what":"Harmonize old municipality codes in Norway to 2024 municipality codes — harmonize_municipality_codes","title":"Harmonize old municipality codes in Norway to 2024 municipality codes — harmonize_municipality_codes","text":"Harmonize old municipality codes Norway 2024 municipality codes","code":""},{"path":"/reference/harmonize_municipality_codes.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Harmonize old municipality codes in Norway to 2024 municipality codes — harmonize_municipality_codes","text":"","code":"harmonize_municipality_codes(data, municipality_col = \"code\", fylke = FALSE)"},{"path":"/reference/harmonize_municipality_codes.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Harmonize old municipality codes in Norway to 2024 municipality codes — harmonize_municipality_codes","text":"data Data frame, data frame extensions (e.g. tibble). municipality_col Character vector. Name column containing original municipality codes. fylke Logical. TRUE, output data frame also includs column name corresponding fylke 2024. Default FALSE.","code":""},{"path":"/reference/harmonize_municipality_codes.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Harmonize old municipality codes in Norway to 2024 municipality codes — harmonize_municipality_codes","text":"Data frame old equivalent municipal codes 2024.","code":""},{"path":"/reference/harmonize_municipality_codes.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Harmonize old municipality codes in Norway to 2024 municipality codes — harmonize_municipality_codes","text":"","code":"# Harmonize municipality codes from 2016 to 2024  harmonized_codes <- harmonize_municipality_codes(data = kommuner_2016, municipality_col = \"code\") #> ! NAs in municipality code column in kommuner_2016: 0 #> ──────────────────────────────────────────────────────────────────────────────── #> ✔ Succesfully matched old municipality codes with harmonized municipality codes #> ℹ Total matched rows: 429"},{"path":"/reference/invar_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Example time-invariant individual-level data — invar_df","title":"Example time-invariant individual-level data — invar_df","text":"simulated dataset including time-invariant individual information year birth reason immigration","code":""},{"path":"/reference/invar_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example time-invariant individual-level data — invar_df","text":"","code":"invar_df"},{"path":"/reference/invar_df.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example time-invariant individual-level data — invar_df","text":"invar_df data frame 30,024 rows 4 columns: id Unique personal identifier sex Sex (code) y_birth Year birth innvandringsgrunn Reason immigration (https://www.ssb./klass/klassifikasjoner/355)","code":""},{"path":"/reference/invar_df.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example time-invariant individual-level data — invar_df","text":"Code used simulate dataset can found /data-raw directory","code":""},{"path":"/reference/kommuner_2016.html","id":null,"dir":"Reference","previous_headings":"","what":"Norwegian municipalities valid in 2016 — kommuner_2016","title":"Norwegian municipalities valid in 2016 — kommuner_2016","text":"Data frame including Norwegian municipality codes valid 2016.","code":""},{"path":"/reference/kommuner_2016.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Norwegian municipalities valid in 2016 — kommuner_2016","text":"","code":"kommuner_2016"},{"path":"/reference/kommuner_2016.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Norwegian municipalities valid in 2016 — kommuner_2016","text":"kommuner_2016 data frame 429 rows 2 columns: code Code municipality (2016) name Name municipality","code":""},{"path":"/reference/kommuner_2016.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Norwegian municipalities valid in 2016 — kommuner_2016","text":"Code used simulate dataset can found /data-raw directory","code":""},{"path":"/reference/linked_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Example linked individual-level data — linked_df","title":"Example linked individual-level data — linked_df","text":"simulated dataset including individual information unique ID, ICD-10 diagnosis date (year), year birth, reason immigration","code":""},{"path":"/reference/linked_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example linked individual-level data — linked_df","text":"","code":"linked_df"},{"path":"/reference/linked_df.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example linked individual-level data — linked_df","text":"linked_df data frame 30,024 rows 3 columns: id Unique personal identifier code ICD-10 codes diag_year Year diagnosis sex Sex (code) y_birth Year birth innvandringsgrunn Reason immigration (https://www.ssb./klass/klassifikasjoner/355)","code":""},{"path":"/reference/linked_df.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example linked individual-level data — linked_df","text":"Code used simulate dataset can found /data-raw directory","code":""},{"path":"/reference/link_diag_demo.html","id":null,"dir":"Reference","previous_headings":"","what":"Link diagnostic and demographic datasets using unique personal identifiers — link_diag_demo","title":"Link diagnostic and demographic datasets using unique personal identifiers — link_diag_demo","text":"Link diagnostic demographic datasets using unique personal identifiers","code":""},{"path":"/reference/link_diag_demo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Link diagnostic and demographic datasets using unique personal identifiers — link_diag_demo","text":"","code":"link_diag_demo(   data_diag,   data_demo_inv = NULL,   data_demo_var = NULL,   id_col = \"id\",   date_col = \"year\",   log_path = NULL )"},{"path":"/reference/link_diag_demo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Link diagnostic and demographic datasets using unique personal identifiers — link_diag_demo","text":"data_diag data frame containing pre-processed pre-validated diagnostic data. data_demo_inv data frame containing validated time-invariant demographic data. data_demo_var data frame containing validated time-variant demographic data. id_col character string. Name ID (unique personal identifier) column provided datasets. Default \"id\". date_col character string. Name  date column time-variant data diagnostic data. log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory.","code":""},{"path":"/reference/link_diag_demo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Link diagnostic and demographic datasets using unique personal identifiers — link_diag_demo","text":"Linked dataset including relevant diagnostic demographic variables.","code":""},{"path":"/reference/link_diag_demo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Link diagnostic and demographic datasets using unique personal identifiers — link_diag_demo","text":"","code":"# Link diagnostic and time invariant datasets log_file <- tempfile() cat(\"Example log file\", file = log_file)  linked_diag_inv <- link_diag_demo(data_diag = diag_df,                                   data_demo_inv = invar_df,                                   id_col = \"id\",                                   log_path = log_file) #> Joining diagnostic data with time-invariant demographic data... #> ✔ Datasets succesfully linked: diag_df, invar_df #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #> ℹ After joining added 3 columns to 'diag_df': sex, y_birth, and innvandringsgrunn #> ℹ Rows in 'diag_df': 30024 #> ℹ Rows in 'invar_df': 30024 #> ✔ Total matched rows: 30024  # Link diagnostic and time variant datasets names(var_df)[names(var_df) == 'year_varying'] <- 'year' names(diag_df)[names(diag_df) == 'diag_year'] <- 'year'  linked_diag_var <- link_diag_demo(data_diag = diag_df,                                   data_demo_var = var_df,                                   id_col = \"id\",                                   date_col = \"year\",                                   log_path = log_file) #> Joining with time-variant demographic data... #> ✔ Datasets succesfully linked: diag_df, var_df #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #> ℹ After joining added 1 columns to 'diag_df': varying_code #> ℹ Rows in 'diag_df': 30024 #> ℹ Rows in 'var_df': 270216 #> ✔ Total matched rows: 30024  # Link diagnostic, time invariant and variant datasets linked_diag_inv_var <- link_diag_demo(data_diag = diag_df,                                       data_demo_var = var_df,                                       data_demo_inv = invar_df,                                       id_col = \"id\",                                       date_col = \"year\",                                       log_path = log_file) #> Joining diagnostic data with time-invariant demographic data... #> ✔ Datasets succesfully linked: diag_df, invar_df #> Joining with time-variant demographic data... #> ✔ Datasets succesfully linked: diag_df, invar_df, var_df #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #> ℹ After joining added 4 columns to 'diag_df': sex, y_birth, innvandringsgrunn, and varying_code #> ℹ Rows in 'diag_df': 30024 #> ℹ Rows in 'var_df': 270216 #> ℹ Rows in 'invar_df': 30024 #> ✔ Total matched rows: 30024"},{"path":"/reference/plot_rates.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot prevalence/incidence rates — plot_rates","title":"Plot prevalence/incidence rates — plot_rates","text":"plot_rates() plots prevalence/incidence rates","code":""},{"path":"/reference/plot_rates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot prevalence/incidence rates — plot_rates","text":"","code":"plot_rates(   data,   date_col = \"date\",   rate_col,   grouping_var = NULL,   facet_var = NULL,   plot_type = c(\"line\", \"bar_chart\", \"lollipop\", \"jitter\"),   percent = TRUE,   palette = c(\"fhi_colors\", \"viridis\", \"okabe_ito\"),   single_color = \"black\",   annotated_line = NULL,   CI_lower = NULL,   CI_upper = NULL,   plot_title = \"\",   x_name = \"\",   y_name = \"\",   legend_title = \"\",   coord_flip = FALSE,   start_end_points = FALSE,   interactive = FALSE )"},{"path":"/reference/plot_rates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot prevalence/incidence rates — plot_rates","text":"data data frame prevalence/incidence rates auxiliary information. date_col character string. Name  date column data. Default \"date\". rate_col character string. Name  rate column data. grouping_var character string. Name variable/column data used group rates. facet_var character string. Name  variable/column data used facet plots. plot_type character string. Type plot, options \"line\", \"bar_chart\", \"lollipop\", \"jitter\" percent Logical. want axis percent? Default set TRUE. palette character string. Color palette used plots, options : \"fhi_colors\", \"viridis\", \"okabe_ito\" single_color character string. Single color applied plot. Default set \"black\" annotated_line Character string. Position annotated line. Default NULL. CI_lower character string. Name column containing lower confidence interval data. CI_upper character string. Name column containing upper confidence interval data. plot_title Character string. Title plot. x_name character string. Title x axis. y_name character string. Title y axis. legend_title character string. Title legend box. coord_flip Logical. Default set FALSE lollipop, bar charts jitter TRUE flips orientation plot. start_end_points Logical. Want annotate start end points line plot? Default set FALSE. TRUE, start end point line plot annotated corresponding numerical values. interactive Logical. want make plot interactive plotly? Default set FALSE.","code":""},{"path":"/reference/plot_rates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot prevalence/incidence rates — plot_rates","text":"ggplot object","code":""},{"path":"/reference/plot_rates.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot prevalence/incidence rates — plot_rates","text":"","code":"log_file <- tempfile() cat(\"Example log file\", file = log_file)  pop_df <- tidyr::expand_grid(year = 2012:2020,   sex = as.factor(c(0, 1)),   innvandringsgrunn = c(\"ARB\", \"UKJ\", \"NRD\")) |>     dplyr::mutate(population = floor(runif(dplyr::n(), min = 3000, max = 4000)))  linked_df <- linked_df |> dplyr::rename(\"year\"= \"diag_year\")  prev_series <- regtools::calculate_prevalence_series(linked_df,   time_points = c(2012:2020),   id_col = \"id\",   date_col = \"year\",   pop_data = pop_df,   pop_col = \"population\",   grouping_vars = c(\"sex\", \"innvandringsgrunn\"),   only_counts = FALSE,   suppression = FALSE,   CI = TRUE,   CI_level = 0.95,   log_path = log_file) #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2012 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2013 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2014 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2015 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2016 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2017 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2018 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2019 #> Computing prevalence rates/counts... #> ! No suppression. Confidentiality cannot be assured. #>  #> ✔ Prevalence rates ready! #>  #> ── Summary ───────────────────────────────────────────────────────────────────── #> ℹ Diagnostic and demographic data: linked_data #> ℹ Population data: c(\"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2012\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2013\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2014\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2015\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2016\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2017\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2018\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2019\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\", \"2020\"), c(1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2), c(\"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\", \"ARB\", \"UKJ\", \"NRD\"), and c(3772, 3874, 3174, 3034, 3320, 3402, 3195, 3403, 3063, 3388, 3975, 3289, 3678, 3735, 3195, 3980, 3741, 3051, 3530, 3695, 3688, 3031, 3225, 3300, 3636, 3479, 3432, 3706, 3948, 3180, 3216, 3680, 3498, 3641, 3660, 3096, 3765, 3769, 3990, 3970, 3389, 3461, 3315, 3174, 3531, 3493, 3779, 3204, 3713, 3065, 3354, 3825, 3273, 3570) #> ℹ Grouped by variables: sex and innvandringsgrunn #> ℹ For time point/period:  2020  plot_rates(prev_series,  date_col = \"year\",  rate_col = \"prev_rate\",  plot_type = \"line\",  grouping_var = \"sex\",  facet_var = \"innvandringsgrunn\",  palette = \"fhi_colors\",  CI_lower = \"ci_results_lower\",  CI_upper = \"ci_results_upper\",  plot_title = \"Prevalence by sex and reason of immigration\",  x_name = \"Year\",  start_end_points = TRUE)"},{"path":"/reference/read_demo_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Read and validate the structure of demographic individual-level data — read_demo_data","title":"Read and validate the structure of demographic individual-level data — read_demo_data","text":"read_demo_data() validates general structure minimum column requirements demographic individual-level data. input data sets must CSV, RDS, RDA .SAV files.","code":""},{"path":"/reference/read_demo_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read and validate the structure of demographic individual-level data — read_demo_data","text":"","code":"read_demo_data(   file_path,   data_type = c(\"t_variant\", \"t_invariant\"),   id_col = \"id\",   date_col = \"date\",   log_path = NULL,   ... )"},{"path":"/reference/read_demo_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read and validate the structure of demographic individual-level data — read_demo_data","text":"file_path character string. File path demographic data read. Supports CSV, RDS, RDA .SAV files. data_type character string. Demographic data can either type \"t_variant\" \"t_invariant\", necessary check correct data structure characteristics. id_col character string. Name ID column data set. Default \"id\". date_col character string. Name date column data set, default \"date\". log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory. ... Additional arguments passed methods underlying functions.","code":""},{"path":"/reference/read_demo_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read and validate the structure of demographic individual-level data — read_demo_data","text":"data frame validated minimum requirements demographic data.","code":""},{"path":"/reference/read_demo_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read and validate the structure of demographic individual-level data — read_demo_data","text":"","code":"# Read and validate CSV file for varying individual level demographic data demo_csv <- system.file(\"extdata\", \"invar_data.csv\", package = \"regtools\") log_file <- tempfile() cat(\"Example log file\", file = log_file)  demo_data_validated <- read_demo_data(demo_csv, data_type = \"t_invariant\", id_col = \"id\", log_path = log_file) #>  #> Reading C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/invar_data.csv file... #> ✔ Succesfully read file: C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/invar_data.csv #> Checking column requirements: #> ✔ ID column #> ✔ Date column #>  #> Data type: time invariant. Checking requirements... #> ✔ No duplicate IDs #>  #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Demographic dataset succesfully read and columns validated #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ℹ Number of rows: 30024. Number of columns: 4. #> ℹ Unique IDs in dataset: 30024. #>  #> 'data.frame':\t30024 obs. of  4 variables: #>  $ id               : chr  \"P000000037\" \"P000000052\" \"P000000059\" \"P000000111\" ... #>  $ sex              : int  0 1 0 1 0 0 1 0 0 0 ... #>  $ y_birth          : int  2001 2009 2004 2006 2003 2000 2003 2008 2004 2000 ... #>  $ innvandringsgrunn: chr  \"FAMM\" \"UTD\" \"FAMM\" \"FAMM\" ..."},{"path":"/reference/read_diag_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Read and validate the structure of diagnostic data — read_diag_data","title":"Read and validate the structure of diagnostic data — read_diag_data","text":"read_diag_data() validates general structure minimum column requirements diagnostic data. input data sets must CSV, RDS, RDA .SAV files.","code":""},{"path":"/reference/read_diag_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read and validate the structure of diagnostic data — read_diag_data","text":"","code":"read_diag_data(   file_path,   id_col = \"id\",   date_col = \"date\",   code_col = \"code\",   log_path = NULL,   remove_extra = FALSE,   ... )"},{"path":"/reference/read_diag_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read and validate the structure of diagnostic data — read_diag_data","text":"file_path character string. File path diagnostic data read. Supports CSV, RDS, RDA .SAV files. id_col character string. Name ID column data set, default \"id\". date_col character string. Name date column data set, default \"date\". code_col character string. Name diagnostic codes column data set, default \"code\". log_path character string. Path log file append function logs. Default NULL. NULL, new directory /log file created current working directory. remove_extra Logical. TRUE, removes extra columns beside id, date diagnostic code. Default FALSE. ... Additional arguments passed methods underlying functions.","code":""},{"path":"/reference/read_diag_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read and validate the structure of diagnostic data — read_diag_data","text":"data frame validated minimum requirements diagnostic data","code":""},{"path":"/reference/read_diag_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read and validate the structure of diagnostic data — read_diag_data","text":"","code":"# Read and validate CSV file for diagnostic individual level data. log_file <- tempfile() cat(\"Example log file\", file = log_file)  diag_csv <- system.file(\"extdata\", \"diag_data.csv\", package = \"regtools\")  diag_data_validated <- read_diag_data(diag_csv,   id_col = \"id\",   date_col = \"diag_year\",   log_path = log_file) #> Reading C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/diag_data.csv file... #> ✔ Succesfully read file: C:/Users/ALMS/AppData/Local/Temp/RtmpkPSwZq/temp_libpath5da84c6a2783/regtools/extdata/diag_data.csv #> Checking column requirements: #> ✔ ID column #> ✔ Code column #> ✔ Date column #>  #>  #> ──────────────────────────────────────────────────────────────────────────────── #> Diagnostic dataset succesfully read and columns validated #>  #>  #> ── Data Summary ──────────────────────────────────────────────────────────────── #>  #> ℹ Number of rows: 30024. Number of columns: 3. #>  #>  #> 'data.frame':\t30024 obs. of  3 variables: #>  $ id       : chr  \"P000000037\" \"P000000052\" \"P000000059\" \"P000000111\" ... #>  $ code     : chr  \"F773\" \"F1011\" \"F898\" \"F1010\" ... #>  $ diag_year: int  2012 2017 2014 2015 2018 2020 2012 2017 2020 2015 ..."},{"path":"/reference/regtools-package.html","id":null,"dir":"Reference","previous_headings":"","what":"regtools: regtools: Trend/prevalence analysis and visualization tool for mental health diagnoses in Norwegian health registers — regtools-package","title":"regtools: regtools: Trend/prevalence analysis and visualization tool for mental health diagnoses in Norwegian health registers — regtools-package","text":"R package support research activities utilizing Norwegian health records prevalence trend analysis mental health diagnoses Norway.","code":""},{"path":[]},{"path":"/reference/simulate_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Create simulated diagnostic, time-varying and time-unvarying individual level data — simulate_data","title":"Create simulated diagnostic, time-varying and time-unvarying individual level data — simulate_data","text":"#' @description simulate_data() function creates individual-level data sets. simulates structure diagnostic, time-varying time-unvarying data might commonly encounter working Norwegian medical sociodemographic data (e.g. NPR SSB)","code":""},{"path":"/reference/simulate_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create simulated diagnostic, time-varying and time-unvarying individual level data — simulate_data","text":"","code":"simulate_data(   population_size,   prefix_ids,   length_ids,   family_codes,   pattern = c(\"increase\", \"decrease\", \"random\"),   prevalence = NULL,   diag_years,   incidence = NULL,   sex_vector,   y_birth,   filler_codes,   filler_y_birth,   unvarying_queries = NULL,   unvarying_codes = NULL,   unvarying_codes_filler,   varying_query = NULL,   varying_codes = NULL,   filler_varying_codes = NULL,   date_classifications = NULL )"},{"path":"/reference/simulate_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create simulated diagnostic, time-varying and time-unvarying individual level data — simulate_data","text":"population_size integer. Number total population size (individual). prefix_ids character string. Prefix used construct unique IDs. Default \"P000\". length_ids integer. Total character length ID. Default 6. family_codes character vector. Relevant ICD-10 diagnostic codes family codes. Example: family_codes = c(\"F84\", \"G\") pattern character string. Pattern incidence prevalence rates simulated data. Possible options \"increase\", \"decrease\" \"random\". prevalence numeric value 0 1. Prevalence rate expressed proportion. diag_years numeric vector. Years used relevant diagnostic years. incidence numeric value 0 1. Incidence rate expressed proportion. sex_vector factor character vector. Factors used represent sex simulated data sets. y_birth numeric vector. Years used relevant years birth. filler_codes character vector. ICD-10 diagnostic codes family codes used fillers. Example: filler_codes = c(\"R\", \"P20\") filler_y_birth numeric vector. Years used filler years birth. unvarying_queries character vector. Uses Statistics Norway API retrieve desired unvarying variable classification(s). Example: unvarying_queries = c(\"innvandringsgrunn\") unvarying_codes Data frame named list. Codes used relevant unvarying codes dataset. data frame provided, column names considered names unvarying variables. named list provided, name element consider unvarying variable name. Example: unvarying_codes = list(\"innvandringsgrunn\" = c(\"ARB\", \"NRD\", \"UKJ\"), \"blodtype\" = c(\"\", \"B\", \"AB\", \"O\")) unvarying_codes_filler Data frame named list. Codes used filler unvarying codes dataset. varying_query character string. Uses Statistics Norway API retrieve desired varying variable classification(s). Example: varying_query = c(\"sivilstand\") varying_codes character vector. Codes used relevant varying codes dataset. Example: varying_codes = .character(0:4) filler_varying_codes character vector. Codes used filler varying codes dataset. Example: filler_varying_codes = .character(5:9) date_classifications Date used retrieve classification system SSB. Format must \"yyyy-mm-dd\"","code":""},{"path":"/reference/simulate_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create simulated diagnostic, time-varying and time-unvarying individual level data — simulate_data","text":"Named list containing data frames individual level diagnostic sociodemographic data.","code":""},{"path":"/reference/simulate_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create simulated diagnostic, time-varying and time-unvarying individual level data — simulate_data","text":"","code":"simulated_list <- simulate_data(   population_size = 1000,   prefix_ids = \"P000\",   length_ids = 6,   family_codes = c(\"F45\", \"F84\"),   pattern = \"increase\",   prevalence = .023,   diag_years  = c(2012:2020),   sex_vector = c(0, 1),   y_birth = c(2010:2018),   filler_codes = \"F\",   filler_y_birth = c(2000:2009),  unvarying_codes = list(\"innvandringsgrunn\" = c(\"ARB\", \"NRD\", \"UKJ\")),   unvarying_codes_filler = list(\"innvandringsgrunn\" = c(\"FAMM\", \"UTD\")),   varying_query = \"fylke\" ) #>  #> ℹ Creating relevant cases with the following characteristics: #> • Population size = 1000 #> • Prefix IDs = P000 #> • Length IDs = 6 #> • ICD-10 relevant codes = F45 and F84 #> • Pattern of incidence = increase #> • Prevalence = 0.023 #> • Diagnostic years = 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, and 2020 #> • Incidence = #> • Coding sex = 0 and 1 #> • Relevant years of birth = 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, and #> 2018 #>  #> ℹ Creating filler cases with the following characteristics: #> • Filler ICD-10 codes = F #> • Filler years of birth = 2000, 2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, #> and 2009 #> • Pattern for filler incidence = 'random' #> • Number of filler cases to generate = 977 #>  #> ! This process can take some minutes... #>  #> ✔ Succesfully generated diagnostic, time-varying and time-unvarying datasets!"},{"path":"/reference/var_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Example time-variant individual-level data — var_df","title":"Example time-variant individual-level data — var_df","text":"simulated dataset including time-variant individual information year residence place residence (codes)","code":""},{"path":"/reference/var_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example time-variant individual-level data — var_df","text":"","code":"var_df"},{"path":"/reference/var_df.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Example time-variant individual-level data — var_df","text":"var_df data frame 270,216 rows 3 columns: id Unique personal identifier code Code place residence (time varying) year Year residence","code":""},{"path":"/reference/var_df.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Example time-variant individual-level data — var_df","text":"Code used simulate dataset can found /data-raw directory","code":""}]
